{% extends 'base.html' %}
{% load static %}
{% block css %}
<style>
#sbm{
	margin: 0;
	margin-top: 5%;
	padding: 0%;
	width: 100%;
}
.card{
	width: 100%;
}
#btn-id{
	padding-left: 0;
	padding-right: 0;
}
#chek{
	margin: 5px;
	margin-left: 8px;
}
#user-info{
	margin-bottom: 2vh;
}
#label{
	margin-top: 5px;
}
</style>
{% endblock css %}
{% block content %}
<div class="row">
	<div class="col-6">
		<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3">
			<div class="breadcrumb-title pe-3">Sport App</div>
			<div class="ps-3">
				<nav aria-label="breadcrumb" id="nav">
					<ol class="breadcrumb mb-0 p-0">
						<li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a>
						</li>
						<li class="breadcrumb-item active" aria-current="page">Shaxsiy shahifa</li>
					</ol>
				</nav>
			</div>
		</div>
	</div>

	{% if information is not None %}
	<div class="col-6">
		<!-- Button trigger modal -->
		<button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleVerticallycenteredModal">Ma`lumotlarni o`zgartirish</button>
		<!-- Modal -->
		<div class="modal fade" id="exampleVerticallycenteredModal" tabindex="-1" style="display: none;" aria-hidden="true">
			<div class="modal-dialog modal-dialog-centered">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title">Ma`lumotlarizni o`zgartiring</h5>
						<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
					</div>
					<form action="{% url 'user_update' information.pk %}" method="post" enctype="multipart/form-data">
					<div class="modal-body">
							{% csrf_token %}
						<div class="col-md-12">
							<label for="inputFirstName" class="form-label">Bo`yingiz</label>
							<input type="text" class="form-control" id="inputFirstName" placeholder="1.75" name="height" value="{{information.height}}" >
						</div>
						<div class="col-md-12">
							<label for="inputFirstName" class="form-label">Vazningiz nesha kg</label>
							<input type="number" class="form-control" id="inputFirstName" placeholder="65" name="weight" value="{{information.weight}}" >
						</div>
						<div class="col-md-12">
							<label for="inputFirstName" class="form-label">Yoshingiz</label>
							<input type="number" class="form-control" id="inputFirstName" placeholder="23" name="age" value="{{information.age}}">
						</div> <br>
						<label for="inputFirstName" class="form-label">Qaysi turga tegishliksiz</label>
						<select class="form-select form-select mb-3" aria-label=".form-select-sm example" name="status">
							<option value="{{information.status.id}}" selected>{{information.status.name}}</option>
							{% for tur in turlar %}	
									<option value="{{tur.id}}">{{tur}}</option>
							{% endfor %}
						</select>
						<div class="col-md-12">
							<label for="inputFirstName" class="form-label">Yoqtirgan sport turiz</label>
							<input type="text" class="form-control" id="inputFirstName" placeholder="boks" name="favourite_sport" value="{{information.favourite_sport}}">
						</div>
						<div class="col-md-12">
							<label for="inputFirstName" class="form-label">Manziliz</label>
							<input type="text" class="form-control" id="inputFirstName" placeholder="Andijon shaxar" name="address" value="{{information.address}}">
						</div>
						<div class="mb-3">
							<label for="formFile" class="form-label">Rasm joylang</label> 
							<input class="form-control" type="file" id="formFile" name="image">
							<a href="{{information.img.url}}" style="display: block;">{{information.img}}</a>
						</div>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Qaytish</button>
						<button type="submit" class="btn btn-primary">Saqlash</button>
					</div>
				</form>
				</div>
			</div>
		</div>
	</div>
</div> <br>

<div class="container">
	<div class="main-body">
		<div class="row">
			<div class="col-lg-4">
				<div class="card">
					<div class="card-body">
						<div class="d-flex flex-column align-items-center text-center">
							<img src="{{information.img.url}}" class="rounded-circle"  alt="Admin" style="width: 35%; height: 14vh;" >
							<div class="mt-3">
								<h4 >{{user.first_name}} {{user.last_name}}</h4>
								<p class="text-secondary mb-1" style="margin-top: 20px;">{{user.email}}</p>
								<p class="text-secondary mb-1" style="margin-top: 20px;">{{user.username}}</p>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="col-1">

			</div>
			<div class="col-lg-6">
				<div class="card">
					<div class="card-body">
						<div class="row mb-3">
							<div class="col-sm-3">
								<h6 class="mb-0" id="label">Manzil</h6>
							</div>
							<div class="col-sm-9 text-secondary">
								<input type="text" class="form-control" value="{{information.address}}" disabled>
							</div>
						</div>
						<div class="row mb-3">
							<div class="col-sm-3">
								<h6 class="mb-0" id="label">Bo`y</h6>
							</div>
							<div class="col-sm-9 text-secondary">
								<input type="text" class="form-control" value="{{information.height}} m." disabled>
							</div>
						</div>
						<div class="row mb-3">
							<div class="col-sm-3">
								<h6 class="mb-0" id="label">Vazn</h6>
							</div>
							<div class="col-sm-9 text-secondary">
								<input type="text" class="form-control" value="{{information.weight}} kg" disabled> 
							</div>
						</div>
						<div class="row mb-3">
							<div class="col-sm-3">
								<h6 class="mb-0" id="label">Yosh</h6>
							</div>
							<div class="col-sm-9 text-secondary">
								<input type="text" class="form-control" value="{{information.age}}" disabled>
							</div>
						</div>
						<div class="row mb-3">
							<div class="col-sm-3">
								<h6 class="mb-0" id="label">Yoqtirgan sport</h6>
							</div>
							<div class="col-sm-9 text-secondary">
								<input type="text" class="form-control" value="{{information.favourite_sport}}" disabled>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
{% else %}
<div class="col-6">
	<!-- Button trigger modal -->
	<button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleVerticallycenteredModal2">Ma`lumotlarni to`ldirish</button>
	<!-- Modal -->
	<div class="modal fade" id="exampleVerticallycenteredModal2" tabindex="-1" style="display: none;" aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title">Ma`lumotlarizni to`ldiring</h5>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<form action="{% url 'user_info' %}" method="post" enctype="multipart/form-data">
				<div class="modal-body">
						{% csrf_token %}
					<div class="col-md-12">
						<label for="inputFirstName" class="form-label">Bo`yingiz</label>
						<input type="text" class="form-control" id="inputFirstName" placeholder="1.75" name="height" required>
					</div>
					<div class="col-md-12">
						<label for="inputFirstName" class="form-label">Vazningiz nesha kg</label>
						<input type="number" class="form-control" id="inputFirstName" placeholder="65" name="weight" required>
					</div>
					<div class="col-md-12">
						<label for="inputFirstName" class="form-label">Yoshingiz</label>
						<input type="number" class="form-control" id="inputFirstName" placeholder="23" name="age" required>
					</div> <br>
					<label for="inputFirstName" class="form-label">Qaysi turga tegishliksiz</label>
					<select class="form-select form-select mb-3" aria-label=".form-select-sm example" name="status" required>
						{% for tur in turlar %}	
								<option value="{{tur.id}}">{{tur}}</option>
						{% endfor %}
					</select>
					<div class="col-md-12">
						<label for="inputFirstName" class="form-label">Yoqtirgan sport turiz</label>
						<input type="text" class="form-control" id="inputFirstName" placeholder="boks" name="favourite_sport" required>
					</div>
					<div class="col-md-12">
						<label for="inputFirstName" class="form-label">Manziliz</label>
						<input type="text" class="form-control" id="inputFirstName" placeholder="Andijon shaxar" name="address" required >
					</div>
					<div class="mb-3">
						<label for="formFile" class="form-label">Rasm joylang</label>
						<input class="form-control" type="file" id="formFile" name="image" required>
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Qaytish</button>
					<button type="submit" class="btn btn-primary">Saqlash</button>
				</div>
			</form>
			</div>
		</div>
	</div>
</div>
{% endif %}
<div class="row row-cols-1 row-cols-sm-2 row-cols-lg-3 row-cols-xl-4 row-cols-xxl-5 product-grid">
	<!-- <div class="row"> -->
	{% for object in objects %}
	<div class="col-3">
		<div class="card">
			<img src="{{ object.images.all.first.image.url }}" class="card-img-top" alt="..." style="object-fit: cover; width: 100%; height:  150px; object-position: 50% 50%;">
			<div class="card-body">
				<h6 class="card-title cursor-pointer">
					<a href="{% url 'sport-object-detail' object.id %}">{{object.name}}</a></h6>
				<div class="clearfix">
					<p class="mb-0 float-start">raqami:</p>
					<p class="mb-0 float-end fw-bold"><span>{{object.phone}}</span>
					</p>
					<p class="mb-0 float-start"><strong>Manzili:</strong> {{object.address}}</p> <br> <br>
				</div>
				<div class="d-flex align-items-center mt-3 fs-6">
					<div class="cursor-pointer">
						<i class='bx bxs-star text-warning'></i>
						<i class='bx bxs-star text-warning'></i>
						<i class='bx bxs-star text-warning'></i>
						<i class='bx bxs-star text-warning'></i>
						<i class='bx bxs-star text-secondary'></i>
					</div>
					<p class="mb-0 ms-auto">4.2(182)</p>
				</div>
					<form method="post">
						{% csrf_token %}
						<input type="hidden" name="chekname" value="{{object.id}}">
						<button type="submit" class="btn btn-primary px-5" id="sbm" >Tanlash <i class="lni lni-checkmark" id="chek"></i></button>
					</form>
			</div>
		</div>
	</div>
	{% endfor %}
	<br>
 </div>
 {% if objects.paginator.num_pages > 1 %}
 <nav aria-label="Page navigation">
 <ul class="pagination pagination-lg round-pagination">
		 {% if objects.has_previous %}
		   <li class="page-item">
				 <a class="page-link" href="?page={{objects.previous_page_number }}"><i class="bx bx-left-arrow-alt"></i></a>
			 </li>
		   {% endif %}
		   {% for num in objects.paginator.page_range %}
		   {% if num == objects.number %}
		   <li class="page-item active">
			 <a class="page-link" href="#" tabindex="-1">{{ num }}</a>
			 </li>
		   {% elif num > objects.number|add:'-3' and num < objects.number|add:'3' %}
		   <li class="page-item"><a class="page-link" href="?page={{ num }}">{{ num }}</a></li>
		   {% endif %}
		   {% endfor %}
		   {% if objects.has_next %}
		 <li class="page-item">
			 <a class="page-link" href="?page={{ objects.next_page_number }}" aria-label="Next">
				 <i class="bx bx-right-arrow-alt"></i>
			 </a>
		 </li>
		   {% endif %}
	 </ul>
 </nav>
{% endif %}
{% endblock content %}
{% block js %}
{% endblock js %}