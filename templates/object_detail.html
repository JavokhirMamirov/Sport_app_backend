{% extends 'base.html' %}
{% load static %}
<link rel="stylesheet" href="{% static 'assets/css/dark-theme.css' %}" />
<link rel="stylesheet" href="{% static 'assets/css/semi-dark.css' %}" />
<link rel="stylesheet" href="{% static 'assets/css/header-colors.css' %}" />
<link rel="stylesheet" href="{% static 'assets/css/dark-theme.css' %}" />
<link rel="stylesheet" href="{% static 'assets/css/semi-dark.css' %}" />
<link rel="stylesheet" href="{% static 'assets/css/header-colors.css' %}" />
{% load static %}
{% block content %}
    <!--breadcrumb-->
    <div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3">
        <div class="breadcrumb-title pe-3" style="width: 130px;">Sport App</div>  
        <div class="ps-3" style="width: 100%;">
            <nav aria-label="breadcrumb" style="display: flex;justify-content: space-between;width: 100%;">
                <ol class="breadcrumb mb-0 p-0" style="display: flex;justify-content: center;align-items: center;width: 230px;">
                    <li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt" style="padding-top: 7px;"></i></a>
                    </li>
                    <li class="breadcrumb-item active" aria-current="page"style="padding-top: 7px;width:190px" >Sport turi</li>
                </ol>
                
                <form action="{% url 'delete-object'%}" method="get" >
                    <!-- <button type="submit" class="btn btn-danger px-3" style="margin-left: 100px; font-size: large;" name="object_id" value="{{object.id}}">O`chirish<i class="bx bx-trash" style="margin-left: 7px;" ></i></button> -->
                    <div class="col" style="display: flex;justify-content: flex-end;">
                        <!-- Button trigger modal -->
                        <a href="{% url 'update-object' object.id %}" type="button" class="btn btn-success px-3" style=" font-size: large;height: 42px;display: flex;align-items: center;justify-content: space-around;"><span>Tahrirlash</span> <i class="bx bx-pencil" style="padding-left: 7px;"></i></a>
                        <button type="button" class="btn btn-danger px-3" style="margin-left: 100px; font-size: large;height: 42px;display: flex;align-items: center;justify-content: space-around;" data-bs-toggle="modal" data-bs-target="#exampleSmallModal"><span>O`chirish</span> <i class="bx bx-trash" style="margin-left: 7px;"></i></button>
                        <!-- Modal -->
                        <div class="modal fade" id="exampleSmallModal" tabindex="-1" style="display: none;" aria-hidden="true">
                            <div class="modal-dialog modal-sm">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title" style="font-family:'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif; text-align: center;">Obyektni o`chirmoqchimisiz?</h5>
                                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                    </div>
                                    <div class="modal-footer" style="justify-content: center;">
                                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Qaytish</button>
                                        <button type="submit" class="btn btn-danger" name="object_id" value="{{object.id}}">O`chirish</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </nav>
        </div>
        
    </div>
    <!--end breadcrumb-->

    <div class="card">
        <div class="row g-0" id="mediaid">
            <div class="col-md-6 ">
            <div class="card">
                <div class="card-body">
                    <div id="carouselExampleControls" class="carousel slide" data-bs-ride="carousel">
                        <div class="carousel-inner" >
                            {% for img in object.images.all %}
                            <div {% if img == object.images.first %} class="carousel-item active" {%else%}class="carousel-item" {%endif%}>
                                <img src="{{ img.image.url }}" id='mediaimgid' class="d-block w-100" alt="img">
                            </div>
                            {% endfor %}
                        </div>
                        <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-bs-slide="prev">	<span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Previous</span>
                        </a>
                        <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-bs-slide="next">	<span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Next</span>
                        </a>
                    </div>
                </div>
            </div>
            </div>
            <div class="col-md-6" style="padding: 1% ;">
                <div class="card-body">
                    <h1 class="card-title" id="h1media">{{object.name}}</h1>
                    <div class="d-flex gap-3 py-3" id="thingsid">
                        <div class="cursor-pointer" style="font-size: 20px;">
                            <i class='bx bxs-star text-warning'></i>
                            <i class='bx bxs-star text-warning'></i>
                            <i class='bx bxs-star text-warning'></i>
                            <i class='bx bxs-star text-warning'></i>
                            <i class='bx bxs-star text-secondary'></i>
                        </div>
                        
                    </div>
                    {% for c in object.category.all %}
                    <div id="thingsid">
                        <div class="btn btn-primary px-3 radius-30" style="margin-bottom: 10px;" id="pid">{{c}}</div>
                    </div>
                    {% endfor %}
                    <div class="mb-3" >
                        <span id="yozuvid" class="price h5"><i class='bx bx-notepad' style="margin-right:20px ;"></i>{{object.type.name}} uchun</span>
                    </div>
                    <div class="mb-3" >
                        <span id="yozuvid" class="price h5"><i class='bx bx-building' style="margin-right:20px ;"></i>{{object.address}}</span>
                    </div>
                    <div class="mb-3" >
                        <span id="yozuvid" class="price h5"><i class='bx bx-phone' style="margin-right:15px ;"></i> {{object.phone}}</span>
                    </div>
                    <div class="mb-3" >
                        <span id="yozuvid" class="price h5"><i class='bx bx-time-five' style="margin-right:20px ;"></i> {{object.date_start}}-</span><span class="price h4">{{object.date_end}}</span>
                    </div>
                    <div class="mb-3" >
                        <span id="yozuvid" class="price h5"><i class='bx bx-calendar' style="margin-right:20px ;"></i>{{object.work_date}}</span>
                    </div>
                    <div class="mb-3" >
                        <span id="yozuvid" class="price h5"><i class='bx bx-building' style="margin-right:20px ;"></i>{{object.area}}</span>
                    </div>  
                    <div class="mb-3" >
                        <span id="yozuvid" class="price h5"><i class='bx bx-building' style="margin-right:20px ;"></i>{{object.invent_date}}</span>
                    </div>
                    
                    <br>
                    <dl class="row" id='dismedia' >
                        <div style="width: 100%;display: flex;justify-content: space-between;align-items: center;">
                            <h6 style="width: 100%;" >Yuvinish xonasi</h6>
                        {% if object.shower == True%}
                        <h6 ><i class='bx bxs-check-circle' style="color:green;" ></i></h6>
                        {% else %}
                        <h6 ><i class='bx bx-x-circle' style="color: red; " ></i></h6>
                        {% endif %}
                        </div>
                        <div style="width: 100%;display: flex;justify-content: space-between;align-items: center;">
                            <h6 class="col-sm-5">Kiyim almashtirish xonasi</h6>
                        {% if object.changing_room == True %}
                        <h6 ><i class='bx bxs-check-circle' style="color:green;" ></i></h6>
                        {% else %}
                        <h6 ><i class='bx bx-x-circle' style="color: red;" ></i></h6>
                        {% endif %}
                        </div>
                       <div style="width: 100%;display: flex;justify-content: space-between;align-items: center;">
                        <h6 style="width: 100%;">Yoritish chiroqlari</h6>
                        {% if object.lighting == True %}
                        <h6 ><i class='bx bxs-check-circle'  style="color:green;"></i></h6>
                        {% else %}
                        <h6 ><i class='bx bx-x-circle' style="color: red;" ></i></h6>
                        {% endif %}
                       </div>
                       <div style="width: 100%;display: flex;justify-content: space-between;align-items: center;">
                        <h6 class="col-sm-">O'rindiqlar</h6>
                        {% if object.tribunes == True %}
                        <h6 ><i class='bx bxs-check-circle'  style="color:green;"></i></h6>
                        {% else %}
                        <h6 ><i class='bx bx-x-circle' style="color: red;" ></i></h6>
                        {% endif %}
                       </div>
                       <div style="width: 100%;display: flex;justify-content: space-between;align-items: center;">
                        <h6 style="width: 100%;">Parkovka</h6>
                        {% if object.parking == True %}
                        <h6 ><i class='bx bxs-check-circle'  style="color:green;"></i></h6>
                        {% else %}
                        <h6 ><i class='bx bx-x-circle' style="color: red;" ></i></h6>
                        {% endif %}
                       </div>
                    </dl> <br>
                </div>
            </div>
        </div>
        <div class="row g-0">
            <div class="col"></div>
            <div class="col-md-11">
                <p class="card-text fs-6">{{object.description}}</p>
            </div>  
            <div class="col"></div>
        </div>
        <hr/>
        <div class="card">
            <div class="card-body">
                <div id="simple-map" class="gmaps"></div>
            </div>
        </div>
    </div>


{% endblock content %}
{% block js %}
<!-- google maps api -->
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDKXKdHQdtqgPVl2HI2RnUa_1bjCxRCQo4&callback=initMap" async defer></script>
    <script>
    function initMap() {
        let Lat = parseFloat('{{ object.lat }}')
        let Lng = parseFloat('{{ object.lng }}')
        let mapOptions = {
            center: {lat: Lat, lng: Lng},
            zoom: 6
        }

        let map = new google.maps.Map(document.getElementById('simple-map'), mapOptions)

        let markerOptions = {
            position: new google.maps.LatLng(Lat, Lng)
        }

        let marker = new google.maps.Marker(markerOptions)

        marker.setMap(map)
    }
    </script>

{% endblock js %}